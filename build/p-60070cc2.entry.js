import{r as t,c as i,h as s,H as e,a as h}from"./p-eb2b03ce.js";let l=class{constructor(s){t(this,s),this.fireenjinFetch=i(this,"fireenjinFetch",7),this.disabled=!1,this.cancelText="Dismiss",this.okText="Okay",this.multiple=!1,this.interface="alert",this.interfaceOptions={},this.limit=15,this.options=[],this.results=[]}onSuccess(t){var i,s,e;"select"===(null===(i=null==t?void 0:t.detail)||void 0===i?void 0:i.name)&&t.detail.endpoint===this.endpoint&&(this.results=(null===(e=null===(s=null==t?void 0:t.detail)||void 0===s?void 0:s.data)||void 0===e?void 0:e.results)?t.detail.data.results:[],setTimeout((()=>{this.value=this.value}),200))}fetchData(){this.endpoint&&this.fireenjinFetch.emit({name:"select",endpoint:this.endpoint,dataPropsMap:this.dataPropsMap?this.dataPropsMap:this.resultsKey?{[this.resultsKey]:"results"}:null,params:Object.assign({data:Object.assign(Object.assign(Object.assign({},this.query?{query:this.query}:{}),this.orderBy?{orderBy:this.orderBy}:{}),{limit:this.limit?this.limit:15})},this.params?this.params:{})})}componentWillLoad(){this.fetchData()}render(){return s(e,null,s("ion-item",{lines:this.lines},this.icon&&s("ion-icon",{slot:"start",name:this.icon}),this.label&&s("ion-label",{position:this.labelPosition},this.label),s("ion-select",{disabled:this.disabled,selectedText:this.selectedText,interface:this.interface,compareWith:this.compareWith,name:this.name,value:this.value,okText:this.okText,multiple:this.multiple,cancelText:this.cancelText,placeholder:this.placeholder,interfaceOptions:this.interfaceOptions?this.interfaceOptions:{header:this.header,subHeader:this.subHeader,message:this.message}},(this.options?this.options:[]).map((t=>this.optionEl?this.optionEl(t):s("ion-select-option",{value:t.value,disabled:t.disabled},t.label))),(this.results?this.results:[]).map((t=>this.optionEl?this.optionEl(t):s("ion-select-option",{value:t.id},t.name))))))}get selectEl(){return h(this)}};l.style="fireenjin-select ion-icon{margin-right:5px;color:var(--ion-text-color);opacity:0.33}";export{l as fireenjin_select}