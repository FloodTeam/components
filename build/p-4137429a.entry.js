import{r as t,c as e,h as r,a as s}from"./p-13ea6980.js";const i=class{constructor(r){t(this,r),this.ftSubmitCard=e(this,"ftSubmitCard",7),this.ftCardError=e(this,"ftCardError",7),this.ftCancel=e(this,"ftCancel",7),this.isLoading=!1}onStripeKeyChange(){this.initializeStripeElements()}save(t){this.error=null,this.isLoading=!0,t.preventDefault(),this.stripe.createToken(this.card).then((e=>{this.isLoading=!1,e.error?this.error=e.error.message:this.ftSubmitCard.emit({event:t,token:e.token})}))}cancel(t){this.ftCancel.emit({event:t})}componentDidLoad(){this.stripeKey?this.initializeStripeElements():alert("Please provide a Stripe key!")}initializeStripeElements(){this.stripe=Stripe(this.stripeKey);const t=this.stripe.elements();this.card=t.create("card",{style:this.stripeStyle?this.stripeStyle:{base:{color:"#32325d",lineHeight:"18px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px",fontWeight:"bold","::placeholder":{color:"#aab7c4"},left:"15px"},invalid:{color:"#fa755a",iconColor:"#fa755a"}},iconStyle:"solid",placeholder:"Card Number"}),this.card.mount(this.payCardEl.querySelector("#card-element")),this.card.on("change",(t=>{this.error=t.error?t.error.message:null,this.error&&this.ftCardError.emit({event:t,error:this.error})}))}render(){return r("div",{class:this.isLoading?"pay-card-wrapper is-loading":"pay-card-wrapper"},this.error?r("floodteam-error",{message:this.error}):null,r("div",{id:"card-element"}),r("ion-grid",null,r("ion-row",null,r("ion-col",{size:"6"},r("ion-button",{onClick:t=>this.cancel(t),fill:"clear"},"Cancel")),r("ion-col",{size:"6"},r("ion-button",{color:"success",onClick:t=>this.save(t)},"Save")))))}get payCardEl(){return s(this)}static get watchers(){return{stripeKey:["onStripeKeyChange"]}}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function a(t,e,r,s){return new(r||(r=Promise))((function(i,a){function o(t){try{n(s.next(t))}catch(t){a(t)}}function h(t){try{n(s.throw(t))}catch(t){a(t)}}function n(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(o,h)}n((s=s.apply(t,e||[])).next())}))}i.style="floodteam-pay-card{display:block;width:100%;font-family:var(--theme-font-primary, Arial, Helvetica, sans-serif)}floodteam-pay-card .pay-card-wrapper{width:90%;max-width:600px;margin:15px auto}floodteam-pay-card .pay-card-wrapper .StripeElement{padding:0 0px 7px 0;border-bottom:1px solid\n    var(\n      --ion-item-border-color,\n      var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13)))\n    )}floodteam-pay-card .pay-card-wrapper .StripeElement--focus{border-bottom:2px solid var(--ion-color-primary, blue)}floodteam-pay-card .pay-card-wrapper .StripeElement--invalid{border-color:var(--ion-color-danger)}floodteam-pay-card .pay-card-wrapper .StripeElement--webkit-autofill{background-color:#fefde5 !important}floodteam-pay-card .pay-card-wrapper ion-grid{display:block;width:100%;padding:15px 0 0 0}";class o{constructor(t={}){this.shouldBeAsync=!0,this.host=t.host,this.headers=t.headers?t.headers:{}}serializeParams(t){return Object.keys(t).map((e=>`${e}=${encodeURIComponent(t[e])}`)).join("&")}makePromise(t,e,r){return new Promise(((s,i)=>a(this,void 0,void 0,(function*(){const o=new XMLHttpRequest;o.open(t,`${this.host}/${e}${"GET"===t?"?"+this.serializeParams(r):""}`,this.shouldBeAsync),o.onload=()=>a(this,void 0,void 0,(function*(){const t=JSON.parse(o.responseText);t&&200===o.status?s({data:t}):i(Object.assign({},t,{message:t.error}))})),o.onerror=()=>{i({message:"There was an error talking to the API, please try agian later or contact support!",status:o.status})},Object.keys(this.headers).map((t=>{o.setRequestHeader(t,this.headers[t])})),o.send("DELETE"===t||"GET"===t?null:r?JSON.stringify(r):"{}")}))))}delete(t,e){return this.makePromise("DELETE",t,e)}get(t,e){return this.makePromise("GET",t,e)}post(t,e){return this.makePromise("POST",t,e)}put(t,e){return this.makePromise("PUT",t,e)}}class h{constructor(t,e){this.http=new o({host:e,headers:{Accept:"application/json",Authorization:`Token ${t}`,"Content-Type":"application/json","X-DADEMC":!0}})}pick(t,e){return Object.assign({},...e.map((e=>({[e]:t[e]}))))}pickPaymentData(t){const e=this.pick(t,["id","type","status","amount","external_user_id","external_reference","date"]);return e.amount=t.check_amount,e}pickCheckData(t){return this.pick(t,["check_routing_number","check_account_number","check_number"])}stagePayment(t){return new Promise(((e,r)=>{this.http.get("mobile_payments/new",Object.assign({},t,{check_amount:t.amount})).then((t=>{const r=this.pickPaymentData(t.data);e(r)})).catch((t=>{r(t)}))}))}setAmount(t,e){return new Promise(((r,s)=>{this.http.put(`mobile_payments/${t.id}`,{mobile_payment:{check_amount:e}}).then((e=>{const s=this.pickPaymentData(e.data);r(Object.assign({},t,s))})).catch((t=>{s(t)}))}))}uploadImage(t,e,r){return new Promise(((s,i)=>{this._resizeImage(r).then((r=>{this.http.post(`mobile_payments/${t.id}/mobile_checks`,{image_type:e,image_string:r}).then((()=>{s(Object.assign({},t,{[e]:!0}))})).catch((t=>{i(t)}))}))}))}confirmPayment(t,e){return new Promise(((r,s)=>{this.http.post(`mobile_payments/${t.id}/mobile_confirmation`,e).then((t=>{const e=t.data,s=this.pickPaymentData(e.mobile_payment),i=this.pickCheckData(e);r(Object.assign({},s,i))})).catch((t=>{try{s({validationErrors:t.response.data.errors})}catch(e){s(t)}}))}))}cancelPayment(t){return new Promise(((e,r)=>{this.http.delete(`mobile_payments/${t.id}`).then((()=>{e(!0)})).catch((t=>{r(t)}))}))}_resizeImage(t){const e=1200,r=1200,s=new Image,i=`data:image/jpeg;base64,${t}`;return new Promise((t=>{s.src=i,s.onload=function(){let i=s.width,a=s.height;i>a?i>e&&(a*=e/i,i=e):a>r&&(i*=r/a,a=r);const o=document.createElement("canvas");o.width=i,o.height=a,o.getContext("2d").drawImage(s,0,0,i,a);const h=o.toDataURL("image/jpeg").split(",")[1];t(h)}}))}}const n=class{constructor(r){t(this,r),this.ftSubmitCheck=e(this,"ftSubmitCheck",7),this.ftCheckConfirmation=e(this,"ftCheckConfirmation",7),this.ftCheckScan=e(this,"ftCheckScan",7),this.ftCheckError=e(this,"ftCheckError",7),this.ftCancel=e(this,"ftCancel",7),this.defaultCheckImage="data:image/png;base64,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",this.dropCheckImage="data:image/png;base64,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",this.loading=!1,this.errors=[],this.isScanningFront=!0,this.isHovered=!1,this.hasCheckFront=!1,this.hasCheckBack=!1}onUrlChange(){this.startScanner()}async startScanner(){if(this.apiKey&&this.url){this.dade=new h(this.apiKey,this.url);try{this.payment=await this.dade.stagePayment({external_user_id:this.userId?this.userId:"0",external_reference:this.paymentId?this.paymentId:"0",amount:this.amount?this.amount:0})}catch(t){console.log(t)}}else console.log("Must provide Dade API key and url!")}async componentDidLoad(){this.checkFront=this.defaultCheckImage,this.checkBack=this.defaultCheckImage,this.startScanner()}selectFile(t,e){this.errors=[],this.loading=!0;const r=e||(t&&t.srcElement&&t.srcElement.files?t.srcElement.files[0]:null),s=new FileReader;s.onload=async()=>{try{await this.dade.uploadImage(this.payment,this.isScanningFront?"checkfront":"checkrear",s.result.split(",")[1]),this.isScanningFront?(this.hasCheckFront=!0,this.checkFront=s.result):(this.hasCheckBack=!0,this.checkBack=s.result),this.isScanningFront=!this.isScanningFront,this.ftCheckScan.emit({event:t,front:this.checkFront,back:this.checkBack}),this.loading=!1}catch(t){console.log(t)}},s.onerror=()=>{alert("Error opening image file!"),this.loading=!1},r&&s.readAsDataURL(r)}onFlip(t){console.log(t.detail),this.isScanningFront=!t.detail.flipped}async openCamera(){this.fileInputEl&&this.fileInputEl.click()}async confirmPayment(t={}){try{this.loading=!0;const e=await this.dade.confirmPayment(this.payment,t);await this.save(null),this.ftCheckConfirmation.emit({confirmation:e}),this.loading=!1}catch(t){throw this.errors=t.errors,this.ftCheckError.emit({event,error:t,payment:this.payment}),new Error(t.errors[0].error_message)}return this.payment}async save(t){if(this.errors=[],!this.hasCheckFront||!this.hasCheckBack)return alert(`Please take a picture of the ${this.hasCheckFront?"back":"front"} of the check.`),this.isScanningFront=!this.hasCheckFront,!1;if(!this.amount)return alert("Please the amount that the check is made out for."),!1;try{this.payment=await this.dade.setAmount(this.payment,this.amount),this.ftSubmitCheck.emit({event:t,data:{payment:this.payment}})}catch(e){this.errors=e.errors,this.ftCheckError.emit({event:t,error:e,payment:this.payment})}this.loading=!1}cancel(t){this.ftCancel.emit({event:t})}async flipCard(){this.isScanningFront=!this.isScanningFront}onDrop(t){t.preventDefault(),t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length>0&&(this.selectFile(t,t.dataTransfer.files[0]),this.isHovered=!1)}onDrag(t){t.preventDefault()}onDragEnter(t){this.isHovered=!0}onDragLeave(t){this.isHovered=!1}onSubmit(t){t.preventDefault()}render(){return r("form",{id:"form-check",onDrop:t=>this.onDrop(t),onDragOver:t=>this.onDrag(t),onDragEnter:t=>this.onDragEnter(t),onDragLeave:t=>this.onDragLeave(t),onSubmit:t=>this.onSubmit(t),class:{"is-loading":this.loading}},this.errors.map((t=>r("floodteam-error",{message:t.error_message}))),r("input",{ref:t=>this.fileInputEl=t,type:"file",accept:"image/*",onChange:t=>this.selectFile(t),capture:"camera"}),r("floodteam-flip-card",{class:{"check-drag-hover":this.isHovered},frontImage:this.checkFront,backImage:this.checkBack,onClick:()=>this.openCamera(),flipped:!this.isScanningFront},r("div",{slot:"front"},r("span",{class:"badge-top-right"},"Front")),r("div",{slot:"back"},r("span",{class:"badge-top-right"},"Back"))),r("ion-grid",null,r("ion-row",null,r("ion-col",{size:"6"},r("ion-button",{fill:"clear",onClick:t=>this.cancel(t)},"Cancel")),r("ion-col",{size:"6"},r("ion-button",{color:"success",onClick:t=>this.save(t)},"Save")))))}get payCheckEl(){return s(this)}static get watchers(){return{url:["onUrlChange"]}}};n.style='floodteam-pay-check{font-family:var(\n    --floodteam-pay-check-font-family,\n    var(--theme-font-primary, Arial, Helvetica, sans-serif)\n  );display:block;width:100%}floodteam-pay-check floodteam-flip-card [slot="after"] img{opacity:0;pointer-events:none}floodteam-pay-check #form-check floodteam-button.flip{position:absolute;right:15px}floodteam-pay-check #form-check form{margin:0 auto;width:90%}floodteam-pay-check #form-check input[type="file"]{height:0;width:0;visibility:hidden;opacity:0}floodteam-pay-check #form-check img{display:block;width:100%}floodteam-pay-check #form-check floodteam-input{--floodteam-input-font-size:28px;--floodteam-input-width:160px;--floodteam-input-focus-color:#0f78b9;--floodteam-input-margin:0 0 0 0;--floodteam-input-label-top:10px;--floodteam-icon-bottom:8px}floodteam-pay-check floodteam-flip-card{cursor:pointer}floodteam-pay-check floodteam-flip-card .flip-card{height:150px !important}floodteam-pay-check #form-check floodteam-flip-card.check-drag-hover .flip-card-front,floodteam-pay-check #form-check floodteam-flip-card.check-drag-hover .flip-card-back{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAD6CAMAAABK88kiAAAAA3NCSVQICAjb4U/gAAAAe1BMVEWJiYm7u7u/v7+RkZH7+/upqanZ2dmdnZ2zs7Pq6uqLi4vMzMyZmZmjo6OxsbG3t7eNjY3h4eHExMTQ0NCtra2lpaXy8vKfn5+Tk5P///+5ubmPj4+1tbXd3d3m5uaVlZXIyMihoaGvr6+np6f39/erq6vV1dXu7u6ZmZkliFSsAAAACXBIWXMAAA6cAAAOnAEHlFPdAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABZ0RVh0Q3JlYXRpb24gVGltZQAwMi8yMS8xOSv5S6kAAAq/SURBVHic7d1re5pKFIZhDaFQBSEWi9lijLHq//+HmwEPEA9DYJbDWr73h+xuy1w15pGzk8EQgMDA9hMAmRAWkEBYQAJhAQmEBSQQFpBAWEACYQEJhAUkEBaQQFhAAmEBCYQFJBAWkEBYQAJhAQmEBSQQFpBAWEACYQEJhAUkEBaQQFhAAmEBCYQFJBAWkEBYQAJhAQmEBSQQFpBAWEACYQEJhAUkEBaQQFhAAmEBCYQFJBAWkEBYQAJhAQkBYUWRP7kURd8Wy7KsdwsJxjysbLKdpWlwKXX9/2oLJqHXt4VEYx2W764Dx4lHVziBm1UXTbwry1leSDTGYfmuN4/jwQ1O6leWjWara0taXWgYTZLEl7p1ZBtWlK8URreqst1Ms4W2+TZ8nQgti2tY/iY4/+h4bgonab7CjQOhO15Mw4o2q+PqarFY8dx5n+Sr3Nw8FFkW07C+vHJ9tVh5MzdJGpxuuHpSwupC/rrclsssi2lY2yBWVut875frTkqUHLbmeVm2n4t5TMNS+zCx4yWs3+vq+KMsy+X65riNaVj+zFsF4YT7z2Ny2BoG8o4NmYY19JMkyTivrkp+WKyz4lTcxpBrWFLke/AyN4YIy7JJcXwbe9JWWQjLtu2qOJu1FbbKQli2+WmxygqFXZ9GWNZt58WB4cT28zALYVnne+qUwzyx/TzMQljWRaHaFjobWTtZCMs+1yl2shAWmJWo48LFWtYJB4Rln+8tcsIOC/mF5edkbTWiTeA4nrATWezC8jdpumF9U8Ml9T1Ju5GUW1iRm7+7A2lX1rLJRMAV9RpuYfmpMxo58m4GEIddWJ66c9QTdppaIG5hTQJ1ydbU9Q9/FraGleZdzxyWu7j9scQGFq6JJyHVE4e16pSVshJ2DGHS84bldO5qMHBQ1i1PG1ZqoKvBIDXwLcn0rGFlRroaDGRdhzHoWcMys8LCKuumZw3LxB6W4pj4piR61rAMdTXg9vo9DLcXxnhYLU+Pmg0ritjOQHHL04dlaXxNlMxm0j5kj7DsjK9JvNXKE1YWwrIzvioL53EsbS4jhGVnfNXhjg2EZZPEsMzesdET3MLyERYP7MIytNnQhzHrOL45hNUDhx3dzpfotGE4A6/T+B9AWH2QeEFg4NBcF4a65HOvLISlwS6sKNlsDJzy0YRRXkq8UxbC0mAXlqHLH/fDOF6ivl0WwtLgF5YZd8M43/pwsyyEpYGwLp2vMN8uC2FpIKwrHH1ZCEsDYV2jLwthaTxrWKdPql7/a21ZCEvjWcPS0ZWFsDQQ1g2ashCWBsK65X5ZCEsDYd10tyyEpYGwbrtXlsmwRE7NhLDuuFOW0bAkTibHLywzk9s2mhir9nHpelkmwxI5/SW7sAxNbjv4Oe/q+K5PRJE4YS+3sEy9u1uEVSvLaFjF5LbCphfhFpap/ZE2YVXLMhuWQNxeGFNHUK3Cqswtg7A0uL0wdicFQViNcXthrIaFTWFz3F4Ym2HR7bwLxO2FsRgW3ekGibi9MKbCanSCNLjZFcLS4fbCPPKCrT+62RXC0uH2wjwwrHtdISwdbi/M48K62xXC0uH2wjwsrPtdISwdbi/Mo8LSdGU4LExua92DwtJ1hcltdZ41rPsf/8p0XWFyW51nDet+GI/9wComt+2Bh4T14I/YY3LbHnhEWJ6+K3xKR4dbWA+Z3BbTGHXHLqyHTG6Lidc64xbWgya3xVSRXXELC5PbMsEurMdMbovpuLtiF9ZDJrdV8AsEOuEXlhldw0BYGgjLzvgqhCUIwiKGsOyMr0JYgiAsYgjLzvgqhCXIKYwmHwO7AmFpPH1YXRl4LghLEEefTCOOgeeCsARJ9c00kur/KS1MbitIZigsE/PwYXLbXjAzua2hVZaJFRYmt+0FYxPBmtjLcszE4Ltp6mJyW6sMvrtXnbtamVrJZDlZXbELy+T+iLvolNXCNfEkpGIXltEjKL/RNFnXydrXNo5bWCLP+UiEsIAEwgISCAtIICwggbCABMICEggLSCAsIIGw+gCT21onMqxMTW6L37BqlciwMLmtfRLDykInJ+yqNsKyD5Pb9oDIsAR+T+zCkvhDkPhm4ReWwM0GwuqBDpPbvowLPx3yMhzmXz9b/INNIaw+aD+57fi98Lr82ZC8xPzrvsU/2BTC6oP2k9sewnp/b14WwmqNXVjtL3+oSn79ec2/vvxkCMJqhV9YrZWV7PKvu/x/lsvpbvlLJTZe/n47/GE5/lwud9+HnMIaLz8+jkueRx8eaw9h8VZWor6+DYfLcqv4dzj8KPe8psVjan32/vFtyDGsXXXJw+jzY+0hLN7KSl7KSlQaqqLP8eEPH4fH/qkH60MOYU3z/6i//V0ZXXmsPYTFW60SlcY0b2P8pva51FqrfGw8re7d14YUSy5PS55Hl4+1h7B4uwhruM/XOXv1v3+KvyoDea3sqRf7++NxOaRYclys0Oqjx9WVXAsIi7fLsN72+7KjcSWs/bewSvvhxZLfRreHsHi7DEt5bxyW2lsf/1Ibwdro42PtISzeWoZ12hSeIquPPj7WHsLirWVYpyHHhv5dCetflyeGsHgzENbxL+qju8LktrxdnMcqHu1DWJjctg9aT257cea9ePRv47D+lScd9tUsK4+1h8lt+6D95La1a4WnNPbqysyucqz3fiusYslpfee98liX7wmT21rX4d1du7vhlIY6V6DOcx52yZeqsetn3tWS6lT767fRh8e6wOS21nXYH6ndj3VKY/paPrg7XVq+ea3wsOTHldEfV//FZ8YurPZHULU7SM/X93anOxqOYb3VhlTubiiW3L9cjt53u29GIm5hdTjnU7vnfXq++/1l/OtPsY5SuXzudp/1IZV73l/Gy/IPtdFL0hviuXqisLS63qUAFQjrDGEZhLDOEJZBCOsMYRmEsM6mP/w4K9yBsIAEwgISCAtIcAtL4jRGmNy2Bw5hJbafh1G+G24mwspiF5Y3Ur8zV1RYfhjM58KmIGUXVrSO1S/5diXdZJIEcRwHiaRviV9Yw5n6Rc6LUNCGIwrVtzQXtRJmGNZ2rn7Rt6S5IvOte07W1p1hWIfzDV+2n4c55VtF2oEuu7CycCHrsNBP1V5j3Gpa1R5jF1a+q7tYLAR9CM+dq1XwfCtor1HhF1bmekHginl/T7xihSVpp7HAL6xhliSJmM9K+Wt1SDiYC/tUIcuwhoKuf/iho7parKWtsFiGJcckLboaBMJ+p9wQYdnku16xHRysxG0IEZY9WbKej4qu5jNxG0IJYfn+1+S77PtBYxT5PVsocoPFoatQzKFIBfuwvsLgghd+22dRs270bKEvzym7Ws0kdsU+LD9cxaML8/qvcfI3gXO5lN2FkkBdQRgtBJ2Sq+Ee1uT4xq+Jg031h5gffPVuocSbx3E8T+UdD5a4h+U3+kk3qu+xC/nqAkLqtptDjgHuYUVbz3F6tpVrtNAwmySJ2Kz4h5Uftc8u9pQ57LxLxz6sfKXV5Pj/chnrC8kmICzoI4QFJBAWkEBYQAJhAQmEBSQQFpBAWEACYQEJhAUkEBaQQFhAAmEBCYQFJBAWkEBYQAJhAQmEBSQQFpBAWEACYQEJhAUkEBaQQFhAAmEBCYQFJBAWkEBYQAJhAQmEBSQQFpBAWEACYQEJhAUkEBaQQFhAAmEBCYQFJBAWkPgffnBX30Xd5dgAAAAASUVORK5CYII=") !important}floodteam-pay-check #form-check .top-bar .right floodteam-button{float:right}floodteam-pay-check #form-check .bottom-bar{margin-top:20px}floodteam-pay-check #form-check floodteam-grid{padding-top:15px}';const l=class{constructor(e){t(this,e),this.percent=0}async setPercent(t){return this.progressBarEl.style.setProperty("--floodteam-progress-bar-fill-width",`${t>=100?100:t<=0?0:t}%`),t}onPercentUpdate(){this.setPercent(this.percent)}componentDidLoad(){this.setPercent(this.percent)}render(){return r("div",{class:"progress-bar-wrapper"})}get progressBarEl(){return s(this)}static get watchers(){return{percent:["onPercentUpdate"]}}};l.style='floodteam-progress-bar .progress-bar-wrapper{display:relative;width:var(--floodteam-progress-bar-width, 100%);height:var(--floodteam-progress-bar-height, 15px);background-color:var(\n    --floodteam-progress-bar-background-color,\n    var(--theme-light-grey, #eee)\n  );border-radius:var(--floodteam-progress-bar-border-radius, 7px);transition:var(--floodteam-progress-bar-transition, 0.4s ease all)}floodteam-progress-bar .progress-bar-wrapper:before{display:block;content:"";transition:var(--floodteam-progess-bar-fill-transition, 0.2s ease-in width);background-color:var(\n    --floodteam-progress-bar-fill-background-color,\n    var(--ion-color-success, green)\n  );width:var(--floodteam-progress-bar-fill-width, 0);height:var(--floodteam-progress-bar-height, 15px);border-radius:var(--floodteam-progress-bar-border-radius, 7px)}';const c=class{constructor(e){t(this,e),this.percent=0,this.radius=60,this.stroke=5}render(){const t=this.radius-2*this.stroke,e=2*t*Math.PI;return[r("svg",{height:2*this.radius,width:2*this.radius},r("circle",{id:"track",fill:"transparent","stroke-dasharray":e,"stroke-width":this.stroke,r:t,cx:this.radius,cy:this.radius}),r("circle",{id:"progress",fill:"transparent","stroke-dasharray":e,style:{strokeDashoffset:e-this.percent/100*e},"stroke-width":this.stroke,r:t,cx:this.radius,cy:this.radius})),r("div",{class:"slot-wrapper"},r("slot",null))]}};c.style=":host{display:flex;align-items:center;justify-content:center;height:100%;position:relative}.slot-wrapper{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:var(--progress-font-size, inherit) !important;font-weight:var(--progress-font-weight, inherit) !important;color:inherit}circle{transition:stroke-dashoffset 0.35s;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:50% 50%;transform-origin:50% 50%}#track{stroke:var(--progress-track-stroke, var(--ion-color-medium, grey))}#progress{stroke:var(--progress-stroke, var(--ion-color-primary, blue))}";export{i as floodteam_pay_card,n as floodteam_pay_check,l as floodteam_progress_bar,c as floodteam_progress_circle}