import{b as n}from"./p-e369b114.js";import{Observable as o,fromEvent as i}from"rxjs";var e={error:"cordova_not_available"},t={error:"plugin_not_installed"};function r(n){if("undefined"!=typeof window&&window.angular){var o=window.document,i=window.angular.element(o.querySelector("[ng-app]")||o.body).injector();if(i)return i.get("$q")((function(o,i){n(o,i)}));console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise((function(o,i){n(o,i)}));console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function u(n,o,i,e){var t,u;void 0===e&&(e={});var a=r((function(r,a){t=e.destruct?d(n,o,i,e,(function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return r(n)}),(function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return a(n)})):d(n,o,i,e,r,a),u=a}));return t&&t.error&&(a.catch((function(){})),"function"==typeof u&&u(t.error)),a}function a(n,o,i,e){return void 0===e&&(e={}),r((function(t,r){var u=d(n,o,i,e);u?u.error?r(u.error):u.then&&u.then(t).catch(r):r({error:"unexpected_error"})}))}function c(n,i,e,t){return void 0===t&&(t={}),new o((function(o){var r;return(r=t.destruct?d(n,i,e,t,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return o.next(n)}),(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return o.error(n)})):d(n,i,e,t,o.next.bind(o),o.error.bind(o)))&&r.error&&(o.error(r.error),o.complete()),function(){try{if(t.clearFunction)return t.clearWithArgs?d(n,t.clearFunction,e,t,o.next.bind(o),o.error.bind(o)):d(n,t.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",n.constructor.getPluginName(),i),console.warn(o)}}}))}function f(n,o){return o="undefined"!=typeof window&&o?v(window,o):o||("undefined"!=typeof window?window:{}),i(o,n)}function l(o,i,r){var u,a,c;return"string"==typeof o?u=o:(u=o.constructor.getPluginRef(),r=o.constructor.getPluginName(),c=o.constructor.getPluginInstallName()),!(!(a=s(u))||i&&void 0===a[i])||("undefined"!=typeof window&&window.cordova?(function(n,o,i){i?console.warn("Native: tried calling "+n+"."+i+", but the "+n+" plugin is not installed."):console.warn("Native: tried accessing the "+n+" plugin but it's not installed."),o&&console.warn("Install the "+n+" plugin: 'ionic cordova plugin add "+o+"'")}(r,c,i),t):(function(o,i){void 0===n&&(i?console.warn("Native: tried calling "+o+"."+i+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+o+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"))}(r,i),e))}function d(n,o,i,e,t,r){void 0===e&&(e={}),i=function(n,o,i,e){if(void 0===o&&(o={}),o.sync)return n;if("reverse"===o.callbackOrder)n.unshift(e),n.unshift(i);else if("node"===o.callbackStyle)n.push((function(n,o){n?e(n):i(o)}));else if("object"===o.callbackStyle&&o.successName&&o.errorName){var t={};t[o.successName]=i,t[o.errorName]=e,n.push(t)}else if(void 0!==o.successIndex||void 0!==o.errorIndex){var r=function(){o.successIndex>n.length?n[o.successIndex]=i:n.splice(o.successIndex,0,i)},u=function(){o.errorIndex>n.length?n[o.errorIndex]=e:n.splice(o.errorIndex,0,e)};o.successIndex>o.errorIndex?(u(),r()):(r(),u())}else n.push(i),n.push(e);return n}(i,e,t,r);var u=l(n,o);if(!0===u){var a=s(n.constructor.getPluginRef());return a[o].apply(a,i)}return u}function s(n){return"undefined"!=typeof window?v(window,n):null}function v(n,o){for(var i=o.split("."),e=n,t=0;t<i.length;t++){if(!e)return null;e=e[i[t]]}return e}var p=function(){function n(){}return n.installed=function(){return!0===l(this.pluginRef)},n.getPlugin=function(){return"undefined"!=typeof window?function(n,o){for(var i=o.split("."),e=n,t=0;t<i.length;t++){if(!e)return null;e=e[i[t]]}return e}(window,this.pluginRef):null},n.getPluginName=function(){return this.pluginName},n.getPluginRef=function(){return this.pluginRef},n.getPluginInstallName=function(){return this.plugin},n.getSupportedPlatforms=function(){return this.platforms},n.pluginName="",n.pluginRef="",n.plugin="",n.repo="",n.platforms=[],n.install="",n}();function w(n,o,i,e){return function(n,o,i){return void 0===i&&(i={}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.sync?d(n,o,e,i):i.observable?c(n,o,e,i):i.eventObservable&&i.event?f(i.event,i.element):i.otherPromise?a(n,o,e,i):u(n,o,e,i)}}(n,o,i).apply(this,e)}!function(){if(void 0===n){var o="undefined"!=typeof window?window:{},i=Date.now(),e=!1;o.document.addEventListener("deviceready",(function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-i)+" ms"),e=!0})),setTimeout((function(){!e&&o.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")}),5e3)}}();var g,h=(g=function(n,o){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])})(n,o)},function(n,o){function i(){this.constructor=n}g(n,o),n.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}),b=new(function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return h(i,n),i.prototype.getCurrentPosition=function(n){return w(this,"getCurrentPosition",{callbackOrder:"reverse"},arguments)},i.prototype.watchPosition=function(n){return new o((function(o){var i=navigator.geolocation.watchPosition(o.next.bind(o),o.next.bind(o),n);return function(){return navigator.geolocation.clearWatch(i)}}))},i.pluginName="Geolocation",i.plugin="cordova-plugin-geolocation",i.pluginRef="navigator.geolocation",i.repo="https://github.com/apache/cordova-plugin-geolocation",i.install='ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION="To locate you"',i.installVariables=["GEOLOCATION_USAGE_DESCRIPTION"],i.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows"],i}(p));export{b as G}