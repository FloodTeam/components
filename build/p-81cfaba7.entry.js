import{r as o,c as i,h as n}from"./p-8710117e.js";const l=class{constructor(n){o(this,n),this.fireenjinTrigger=i(this,"fireenjinTrigger",7),this.navigationView=void 0,this.isLoggedIn=!1,this.isLoading=!1,this.unreadFeedCount=0,this.query=void 0}onChange(o){var i,n;"ION-SEGMENT"===(null===(i=null==o?void 0:o.target)||void 0===i?void 0:i.tagName)?this.navigationView=o.target.value:this.query=(null===(n=null==o?void 0:o.target)||void 0===n?void 0:n.value)||null}onSuccess(o){"listFeed"===o.detail.endpoint&&setTimeout((()=>{this.paginationEl.querySelectorAll("[data-trigger]").forEach((o=>{o.getAttribute("triggerer")||(o.addEventListener("click",(o=>{var i,n,l,e;o.preventDefault();const t=null===(n=null===(i=null==o?void 0:o.target)||void 0===i?void 0:i.dataset)||void 0===n?void 0:n.trigger,s=null===(e=null===(l=null==o?void 0:o.target)||void 0===l?void 0:l.dataset)||void 0===e?void 0:e.triggerPayload;this.fireenjinTrigger.emit({name:t,payload:s})})),o.setAttribute("triggerer","true"))}))}),1e3),this.isLoading=!1}setProgress(o){var i;let n=0;const l=Array.from(o.querySelectorAll("ion-item")),e=o.querySelector("ion-progress-bar");for(const o of l)n+=(null===(i=null==o?void 0:o.querySelector("ion-checkbox"))||void 0===i?void 0:i.checked)?1:0;const t=n/l.length,s=isFinite(t)&&t>0?t:0;e.value=s}render(){return n("ion-header",null,n("ion-segment",{scrollable:!0,value:this.navigationView||"menu"},n("ion-segment-button",{value:"menu"},n("ion-icon",{src:"/assets/logo/logo.svg",style:{width:"100px",height:"40px",color:"var(--ion-text-color)"}})),this.isLoggedIn&&n("ion-segment-button",{value:"pins",layout:"icon-top"},n("ion-icon",{name:"pin"}),n("ion-label",null,n("small",null,"Pins"))),this.isLoggedIn&&n("ion-segment-button",{value:"profile",layout:"icon-top"},n("ion-icon",{name:"person"}),n("ion-label",null,n("small",null,"Profile"))),this.isLoggedIn&&n("ion-segment-button",{value:"feed",layout:"label-hide",style:{"--color":this.unreadFeedCount>0?"var(--ion-color-warning)":null,"--indicator-color":"var(--ion-color-warning)","--color-checked":"var(--ion-color-warning)"}},n("ion-icon",{name:"notifications"}))))}};export{l as floodteam_navigation_header}