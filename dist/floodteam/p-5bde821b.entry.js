import{r as t,h as i,H as o,c as e,a}from"./p-eb2b03ce.js";const s=class{constructor(i){t(this,i),this.size="150px",this.animating=!1}render(){return i(o,{style:{"--floodteam-checkmark-size":this.size}},i("div",{class:{"checkmark-wrapper":!0,animate:this.animating}},i("ion-icon",{name:"checkmark-circle"})))}};s.style="@keyframes fadeRoll{0%{transform:rotate(30deg) translateY(50px) scale(0.6);opacity:0}80%{transform:rotate(-15deg) translateY(-10px) scale(1);opacity:1}100%{transform:rotate(0deg) translateY(0) scale(1);opacity:1}}.checkmark-wrapper{display:block;margin:0 auto;width:var(\r\n    --floodteam-checkmark-width,\r\n    var(--floodteam-checkmark-size, 150px)\r\n  );height:var(\r\n    --floodteam-checkmark-height,\r\n    var(--floodteam-checkmark-size, 150px)\r\n  );max-width:var(--floodteam-checkmark-max-width, 800px);min-height:var(\r\n    --floodteam-checkmark-min-height,\r\n    var(--floodteam-checkmark-size, 150px)\r\n  )}ion-icon{display:block;height:var(--floodteam-checkmark-size, 150px);width:var(--floodteam-checkmark-size, 150px);color:var(--ion-color-success, #000000);display:block;margin:0 auto;opacity:0}.animate ion-icon{animation:fadeRoll 2s;animation-iteration-count:1;animation-fill-mode:forwards}";const n=class{constructor(i){t(this,i),this.ionInput=e(this,"ionInput",7),this.floodteamAddressMode=e(this,"floodteamAddressMode",7),this.floodteamUpdateAutoHeight=e(this,"floodteamUpdateAutoHeight",7),this.value={},this.manualEntry=!1}onChange(){this.manualEntry&&setTimeout((()=>{const t=`${this.streetInputEl.value},${this.unitInputEl.value?` ${this.unitInputEl.value},`:""} ${this.cityInputEl.value}, ${this.stateSelectEl.querySelector("ion-select").value} ${this.zipInputEl.value}`;this.autocompleteFieldEl.value=t,this.value.full=t,this.ionInput.emit({name:this.name,value:this.value})}),100)}injectScript(t){return new Promise(((i,o)=>{const e=document.createElement("script");e.async=!0,e.src=t,e.addEventListener("load",i),e.addEventListener("error",(()=>o("Error loading script."))),e.addEventListener("abort",(()=>o("Script loading aborted."))),document.head.appendChild(e)}))}async componentWillLoad(){var t;try{this.googleMapsKey&&!(null===(t=null===window||void 0===window?void 0:window.google)||void 0===t?void 0:t.maps)&&await this.injectScript(`https://maps.googleapis.com/maps/api/js?key=${this.googleMapsKey}&libraries=places`)}catch(t){console.log("Error injecting Google Maps")}}async componentDidLoad(){{const t=await this.autocompleteFieldEl.getInputElement();setTimeout((()=>{t.setAttribute("autocomplete","new-password")}),200);const i=new google.maps.places.Autocomplete(t,{types:["address"]});google.maps.event.addListener(i,"place_changed",(()=>{var t,o,e,a,s,n,r;this.place=i.getPlace(),this.value||(this.value={}),this.value.full=this.place.formatted_address;let l="";this.value.placeId=null===(t=this.place)||void 0===t?void 0:t.place_id,this.value.lat=null===(a=null===(e=null===(o=this.place)||void 0===o?void 0:o.geometry)||void 0===e?void 0:e.location)||void 0===a?void 0:a.lat(),this.value.lng=null===(r=null===(n=null===(s=this.place)||void 0===s?void 0:s.geometry)||void 0===n?void 0:n.location)||void 0===r?void 0:r.lng(),this.place.address_components.map(((t,i)=>{-1!==t.types.indexOf("street_number")&&(l=t.long_name),-1!==t.types.indexOf("route")&&(l=l+" "+t.long_name),-1!==t.types.indexOf("locality")&&(this.value.city=t.long_name),-1!==t.types.indexOf("postal_code")&&(this.value.zip=t.short_name),-1!==t.types.indexOf("administrative_area_level_1")&&(this.value.state=t.short_name),this.place.address_components.length===i+1&&(this.value.street=l),i===this.place.address_components.length-1&&setTimeout((()=>{this.ionInput.emit({name:this.name,value:this.value})}),10)}))}))}}toggleManualEntry(){this.manualEntry=!this.manualEntry,this.manualEntry&&(this.value={city:this.cityInputEl.value,country:"US",full:this.autocompleteFieldEl.value,state:this.stateSelectEl.value,street:this.streetInputEl.value,unit:this.unitInputEl.value,zip:this.zipInputEl.value}),this.floodteamAddressMode.emit({maual:this.manualEntry}),this.floodteamUpdateAutoHeight.emit(),setTimeout((()=>{this.addressAutocompleteEl.forceUpdate()}),0)}render(){const t=this.value?this.value:{};return[i("ion-item",{class:{"is-hidden":!this.manualEntry}},i("ion-label",{position:"stacked"},this.label),i("div",{class:"manual-fields"},i("ion-input",{ref:t=>this.streetInputEl=t,type:"text",name:this.name+".street",placeholder:"Street Address",value:t.street,required:this.required&&this.manualEntry}),i("ion-input",{ref:t=>this.unitInputEl=t,type:"text",name:this.name+".unit",placeholder:"Street Address 2",value:t.unit}),i("ion-input",{ref:t=>this.cityInputEl=t,type:"text",name:this.name+".city",placeholder:"City",value:t.city,required:this.required&&this.manualEntry}),i("ion-grid",null,i("ion-row",null,i("ion-col",{size:"6"},i("floodteam-input-state",{ref:t=>this.stateSelectEl=t,name:this.name+".state",value:t.state,placeholder:"State"})),i("ion-col",{size:"6"},i("ion-input",{ref:t=>this.zipInputEl=t,class:"zip-input",type:"tel",name:this.name+".zip",min:"0",max:"999999",value:t.zip,placeholder:"Zip Code",required:this.required&&this.manualEntry}))))),i("ion-button",{fill:"clear",color:"primary",onClick:()=>this.toggleManualEntry(),slot:"end"},i("span",{class:"button-inner"},"Search",i("ion-icon",{name:"search"})))),i("ion-item",{class:{"is-hidden":this.manualEntry}},i("ion-label",{position:"stacked"},this.label),i("ion-input",{ref:t=>this.autocompleteFieldEl=t,class:"autocomplete-field",type:"text",placeholder:this.placeholder,value:t.full,autocomplete:"off",required:this.required&&!this.manualEntry}),i("ion-button",{fill:"clear",color:"primary",onClick:()=>this.toggleManualEntry(),slot:"end"},i("span",{class:"button-inner"},"Manual",i("ion-icon",{name:"create"}))))]}get addressAutocompleteEl(){return a(this)}};n.style="floodteam-input-address ion-label{font-size:12px;font-weight:bold;font-family:arial;display:block;background:transparent;text-align:left;padding:0 0 8px 0}floodteam-input-address .invalid .input-wrapper{border-bottom-color:var(--theme-red) !important}floodteam-input-address .invalid .label{color:var(--theme-red) !important}floodteam-input-address ion-item{position:relative;border-bottom:none !important;box-shadow:none !important}floodteam-input-address ion-item.is-hidden{display:none}floodteam-input-address ion-item ion-label{color:var(--theme-dark-grey) !important}floodteam-input-address ion-item ion-input{border:none;box-shadow:none !important;outline:none !important;font-size:16px;font-weight:normal !important}floodteam-input-address ion-item.item-has-focus{--border-width:0;border-color:var(--theme-blue)}floodteam-input-address ion-item.item-has-focus ion-label{color:var(--theme-blue) !important}floodteam-input-address ion-input.autocomplete-field{--padding-top:13px !important}floodteam-input-address ion-button{text-decoration:none;position:absolute;right:0px;top:3px;z-index:3}floodteam-input-address ion-button .button-inner{font-size:14px;color:var(--theme-blue);padding-right:25px}floodteam-input-address ion-button ion-icon{position:absolute;top:6px;right:10px;color:var(--theme-blue)}floodteam-input-address .manual-fields{width:100%;padding-top:5px}floodteam-input-address .manual-fields ion-input{--padding-top:8px;--padding-bottom:8px;--padding-start:17px}floodteam-input-address .manual-fields ion-grid floodbot-state-autocomplete,floodteam-input-address .manual-fields ion-grid ion-input{display:block;min-width:150px}floodteam-input-address .autocomplete-field{display:block;padding-top:8px}floodteam-input-address .manual-fields ion-grid,floodteam-input-address .manual-fields ion-grid ion-row ion-col{padding-bottom:0 !important;padding-top:0 !important}floodteam-input-address .manual-fields ion-input:not(.zip-input){border-bottom:1px solid var(--theme-grey-light, #eee) !important}";const r=class{constructor(i){t(this,i),this.stateList={AK:"Alaska",AL:"Alabama",AR:"Arkansas",AS:"American Samoa",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"District of Columbia",DE:"Delaware",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:" North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"Virgin Islands",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"}}componentDidLoad(){this.stateAutocompleteEl.querySelector("ion-select").interfaceOptions={header:"State"}}render(){return i("ion-select",{color:"primary",name:this.name,value:this.value,"ok-text":"Select","cancel-text":"Cancel",placeholder:this.placeholder},Object.keys(this.stateList).map((t=>i("ion-select-option",{value:t},this.stateList[t]))))}get stateAutocompleteEl(){return a(this)}};r.style="floodteam-input-state ion-select{color:var(--theme-dark);font-family:var(--theme-font-primary);--padding-start:0;max-width:auto}";export{s as floodteam_checkmark,n as floodteam_input_address,r as floodteam_input_state}